<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>ğŸ” Part 3: Deviations &amp; EQL (EDA Query Language) - ğŸ‡¸ğŸ‡¬ SGNOG12 x NOKIA Workshop</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-3-deviations-eql-eda-query-language" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ğŸ‡¸ğŸ‡¬ SGNOG12 x NOKIA Workshop" class="md-header__button md-logo" aria-label="ğŸ‡¸ğŸ‡¬ SGNOG12 x NOKIA Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ğŸ‡¸ğŸ‡¬ SGNOG12 x NOKIA Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ğŸ” Part 3: Deviations &amp; EQL (EDA Query Language)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo" aria-label="Dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo" aria-label="Light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/thcorre/sgnog12-workshop" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    sgnog12-workshop
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ğŸ‡¸ğŸ‡¬ SGNOG12 x NOKIA Workshop" class="md-nav__button md-logo" aria-label="ğŸ‡¸ğŸ‡¬ SGNOG12 x NOKIA Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    ğŸ‡¸ğŸ‡¬ SGNOG12 x NOKIA Workshop
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/thcorre/sgnog12-workshop" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    sgnog12-workshop
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Containerlab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Containerlab basics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../15-startup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Startup Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../20-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VM-Based Nodes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../30-registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Container registries
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../40-packet-capture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Packet capture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7">
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    DC Fabric Lab
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            DC Fabric Lab
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dc-lab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8">
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    EDA Lab
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            EDA Lab
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part1-fabric-intent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../part2-service-overlays/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="./" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“‹ Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ‘¨ğŸ»â€ğŸ’» Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      â˜‘ï¸ Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-deviations" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“š Understanding Deviations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“š Understanding Deviations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-a-configuration-deviation" class="md-nav__link">
    <span class="md-ellipsis">
      What is a Configuration Deviation?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What is a Configuration Deviation?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-deviation-causes" class="md-nav__link">
    <span class="md-ellipsis">
      Common Deviation Causes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-deviations-matter" class="md-nav__link">
    <span class="md-ellipsis">
      Why Deviations Matter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edas-deviation-detection" class="md-nav__link">
    <span class="md-ellipsis">
      EDA's Deviation Detection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-5-configuration-deviations" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ”§ Exercise 5: Configuration Deviations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ”§ Exercise 5: Configuration Deviations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lab-scenario" class="md-nav__link">
    <span class="md-ellipsis">
      Lab Scenario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-create-a-test-deviation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Create a Test Deviation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-view-deviation-in-eda-gui" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: View Deviation in EDA GUI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-analyze-deviation-details" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Analyze Deviation Details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-accept-a-deviation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Accept a Deviation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-clear-accepted-deviation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Clear Accepted Deviation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-reject-a-deviation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6: Reject a Deviation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-verify-remediation" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7: Verify Remediation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-6-eql-queries" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“Š Exercise 6: EQL Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“Š Exercise 6: EQL Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-eql-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding EQL Syntax
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding EQL Syntax">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-components" class="md-nav__link">
    <span class="md-ellipsis">
      Key Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#important-differences-from-sql" class="md-nav__link">
    <span class="md-ellipsis">
      Important Differences from SQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Example Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-1-list-major-alarms" class="md-nav__link">
    <span class="md-ellipsis">
      Query 1: List Major Alarms
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-2-find-nodes-with-specific-ip-address" class="md-nav__link">
    <span class="md-ellipsis">
      Query 2: Find Nodes with Specific IP Address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-3-find-network-instance-by-learned-mac" class="md-nav__link">
    <span class="md-ellipsis">
      Query 3: Find Network Instance by Learned MAC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-4-sum-interface-traffic-across-datacenter" class="md-nav__link">
    <span class="md-ellipsis">
      Query 4: Sum Interface Traffic Across Datacenter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-5-display-process-memory-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Query 5: Display Process Memory Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-6-show-down-interfaces-on-specific-node" class="md-nav__link">
    <span class="md-ellipsis">
      Query 6: Show Down Interfaces on Specific Node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-7-view-ipv4-route-table-for-network-instance" class="md-nav__link">
    <span class="md-ellipsis">
      Query 7: View IPv4 Route Table for Network Instance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practical-eql-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ’¡ Practical EQL Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ’¡ Practical EQL Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-health-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      Network Health Monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capacity-planning" class="md-nav__link">
    <span class="md-ellipsis">
      Capacity Planning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-tips" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ› ï¸ Troubleshooting &amp; Tips
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-summary" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“ Lab Summary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“ Lab Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-youve-accomplished" class="md-nav__link">
    <span class="md-ellipsis">
      What You've Accomplished
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Key Takeaways
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ¯ What's Next?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ¯ What's Next?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#continue-your-learning" class="md-nav__link">
    <span class="md-ellipsis">
      Continue Your Learning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-resources" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ“š Additional Resources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ğŸ“š Additional Resources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-completion" class="md-nav__link">
    <span class="md-ellipsis">
      ğŸ Lab Completion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="part-3-deviations-eql-eda-query-language">ğŸ” Part 3: Deviations &amp; EQL (EDA Query Language)</h1>
<blockquote>
<p><strong>Advanced Network Monitoring with EDA</strong></p>
</blockquote>
<p>This guide explores EDA's powerful capabilities for <strong>detecting configuration deviations</strong> and <strong>querying network state</strong> using EQL (EDA Query Language) to gain deep insights into your infrastructure.</p>
<hr>
<h2 id="table-of-contents">ğŸ“‹ Table of Contents</h2>
<ol>
<li><a href="#-overview">Overview</a></li>
<li><a href="#-prerequisites">Prerequisites</a></li>
<li><a href="#-understanding-deviations">Understanding Deviations</a></li>
<li><a href="#-exercise-5-configuration-deviations">Exercise 5: Configuration Deviations</a></li>
<li><a href="#step-1-create-a-test-deviation">Step 1: Create a Test Deviation</a></li>
<li><a href="#step-2-view-deviation-in-eda-gui">Step 2: View Deviation in EDA GUI</a></li>
<li><a href="#step-3-analyze-deviation-details">Step 3: Analyze Deviation Details</a></li>
<li><a href="#step-4-accept-a-deviation">Step 4: Accept a Deviation</a></li>
<li><a href="#step-5-clear-accepted-deviation">Step 5: Clear Accepted Deviation</a></li>
<li><a href="#step-6-reject-a-deviation">Step 6: Reject a Deviation</a></li>
<li><a href="#step-7-verify-remediation">Step 7: Verify Remediation</a></li>
<li><a href="#-exercise-6-eql-queries">Exercise 6: EQL Queries</a></li>
<li><a href="#understanding-eql-syntax">Understanding EQL Syntax</a></li>
<li><a href="#example-queries">Example Queries</a></li>
<li><a href="#%EF%B8%8F-troubleshooting--tips">Troubleshooting &amp; Tips</a></li>
<li><a href="#-lab-summary">Lab Summary</a></li>
</ol>
<hr>
<h2 id="overview">ğŸ‘¨ğŸ»â€ğŸ’» Overview</h2>
<p>In this lab, you will:
- Understand what configuration deviations are and why they matter
- Detect and analyze deviations in your EDA-managed fabric
- Learn to accept or reject deviations
- Master EQL syntax for querying network state
- Build practical queries for day-to-day operations
- Extract operational insights from your network</p>
<p><strong>Estimated time:</strong> 45 minutes</p>
<hr>
<h2 id="prerequisites">â˜‘ï¸ Prerequisites</h2>
<p>Before starting Part 3, ensure you have:</p>
<ul>
<li><strong>Completed</strong> <a href="../part1-fabric-intent/">Part 1: Fabric Intent Creation</a></li>
<li><strong>Completed</strong> <a href="../part2-service-overlays/">Part 2: Service Overlays</a></li>
<li>Active fabric with committed intents</li>
<li>L2 EVPN service deployed</li>
<li>Access to EDA GUI</li>
<li>SSH access to leaf switches</li>
</ul>
<hr>
<h2 id="understanding-deviations">ğŸ“š Understanding Deviations</h2>
<h3 id="what-is-a-configuration-deviation">What is a Configuration Deviation?</h3>
<p>A <strong>deviation</strong> occurs when the actual configuration on a device differs from the <strong>intended state</strong> defined in EDA.</p>
<h4 id="common-deviation-causes">Common Deviation Causes</h4>
<table>
<thead>
<tr>
<th>Cause</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Manual Changes</strong></td>
<td>Operator modifies config via CLI outside EDA</td>
</tr>
<tr>
<td><strong>External Automation</strong></td>
<td>Scripts change configuration bypassing EDA</td>
</tr>
<tr>
<td><strong>Operational Actions</strong></td>
<td>Temporary troubleshooting changes</td>
</tr>
<tr>
<td><strong>Device Issues</strong></td>
<td>Configuration not applied correctly</td>
</tr>
</tbody>
</table>
<h3 id="why-deviations-matter">Why Deviations Matter</h3>
<ul>
<li>âŒ <strong>Configuration Drift:</strong> Network state diverges from intended design</li>
<li>âŒ <strong>Service Impact:</strong> Unexpected behavior, connectivity loss</li>
<li>âŒ <strong>Compliance Violations:</strong> Audit and policy enforcement issues</li>
<li>âŒ <strong>Operational Risk:</strong> Inconsistent network state</li>
</ul>
<h3 id="edas-deviation-detection">EDA's Deviation Detection</h3>
<p>EDA continuously monitors device state and compares it against committed intents:</p>
<div class="highlight"><pre><span></span><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EDA Intent â”‚ â”€â”€â”€&gt; â”‚ Expected     â”‚ â”€â”€â”€&gt; â”‚ Deviation   â”‚
â”‚  (Desired)  â”‚      â”‚ Config       â”‚      â”‚ Detection   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                     â”‚
                              â–¼                     â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ Actual       â”‚ â”€â”€â”€&gt; â”‚ Alarm/      â”‚
                     â”‚ Device State â”‚      â”‚ Alert       â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div>
<hr>
<h2 id="exercise-5-configuration-deviations">ğŸ”§ Exercise 5: Configuration Deviations</h2>
<p>In this exercise, we'll intentionally create a deviation to understand how EDA detects and handles configuration drift.</p>
<h3 id="lab-scenario">Lab Scenario</h3>
<ul>
<li>We'll disable an interface on leaf1</li>
<li>This will cause connectivity issues between clients</li>
<li>EDA will detect the deviation and raise alarms</li>
<li>We'll explore options to accept or reject the deviation</li>
</ul>
<hr>
<h3 id="step-1-create-a-test-deviation">Step 1: Create a Test Deviation</h3>
<ol>
<li>
<p><strong>SSH to leaf1</strong>
   </p><div class="highlight"><pre><span></span><code>ssh<span class="w"> </span>admin@leaf1
</code></pre></div><p></p>
</li>
<li>
<p><strong>Disable Subinterface</strong>
   </p><div class="highlight"><pre><span></span><code>--<span class="o">{</span><span class="w"> </span>+<span class="w"> </span>running<span class="w"> </span><span class="o">}</span>--<span class="o">[</span><span class="w"> </span><span class="o">]</span>--
A:admin@leaf1#<span class="w"> </span>enter<span class="w"> </span>candidate

--<span class="o">{</span><span class="w"> </span>+<span class="w"> </span>candidate<span class="w"> </span>shared<span class="w"> </span>default<span class="w"> </span><span class="o">}</span>--<span class="o">[</span><span class="w"> </span><span class="o">]</span>--
A:admin@leaf1#<span class="w"> </span>interface<span class="w"> </span>ethernet-1/50<span class="w"> </span>subinterface<span class="w"> </span><span class="m">0</span>

--<span class="o">{</span><span class="w"> </span>+<span class="w"> </span>candidate<span class="w"> </span>shared<span class="w"> </span>default<span class="w"> </span><span class="o">}</span>--<span class="o">[</span><span class="w"> </span>interface<span class="w"> </span>ethernet-1/50<span class="w"> </span>subinterface<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span>--
A:admin@leaf1#<span class="w"> </span>admin-state<span class="w"> </span>disable

--<span class="o">{</span><span class="w"> </span>+*<span class="w"> </span>candidate<span class="w"> </span>shared<span class="w"> </span>default<span class="w"> </span><span class="o">}</span>--<span class="o">[</span><span class="w"> </span>ethernet-1/50<span class="w"> </span>subinterface<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span>--
A:admin@leaf1#<span class="w"> </span>commit<span class="w"> </span>now
All<span class="w"> </span>changes<span class="w"> </span>have<span class="w"> </span>been<span class="w"> </span>committed.<span class="w"> </span>Leaving<span class="w"> </span>candidate<span class="w"> </span>mode.
</code></pre></div><p></p>
</li>
</ol>
<blockquote>
<p><strong>What happened?</strong> We manually disabled an interface that EDA created. This is a deviation because EDA expects this interface to be enabled.</p>
</blockquote>
<hr>
<h3 id="step-2-view-deviation-in-eda-gui">Step 2: View Deviation in EDA GUI</h3>
<ol>
<li><strong>Check for Alarms</strong></li>
<li>Navigate to <strong>Alarms</strong> in the EDA GUI</li>
<li>You should see alarms generated immediately after the commit:<ul>
<li><code>DefaultRouterDegraded</code> (Critical severity)</li>
<li><code>DefaultInterfaceDown</code> (Critical severity)</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th>Severity</th>
<th>Type</th>
<th>Occurrences</th>
<th>Resource</th>
<th>Last Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td>Critical</td>
<td>DefaultRouterDegraded</td>
<td>1</td>
<td>router-leaf1</td>
<td>Wed Jun 18 2025, 14:29:35 EDT</td>
</tr>
<tr>
<td>Critical</td>
<td>DefaultInterfaceDown</td>
<td>1</td>
<td>interface-leaf1-ethernet-1-50</td>
<td>Wed Jun 18 2025, 14:29:35 EDT</td>
</tr>
</tbody>
</table>
<ol>
<li><strong>View Deviation Entry</strong></li>
<li>Navigate to <strong>Deviations</strong> in the EDA GUI</li>
<li>You should see a deviation entry for the interface</li>
</ol>
<table>
<thead>
<tr>
<th>Name</th>
<th>Namespace</th>
<th>Labels</th>
<th>Annotations</th>
<th>Target</th>
<th>Operation</th>
<th>Path</th>
</tr>
</thead>
<tbody>
<tr>
<td>leaf1-550d3...</td>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>+1</td>
<td></td>
<td>leaf1</td>
<td>Create</td>
<td>.interface{.name=="ethernet-1/50"}.subinterface{.index==0}</td>
</tr>
</tbody>
</table>
<p><strong>Available Actions:</strong>
   - <strong>View</strong> - See detailed comparison
   - <strong>Accept</strong> - Make this the new intended state
   - <strong>Reject</strong> - Revert to original intent</p>
<hr>
<h3 id="step-3-analyze-deviation-details">Step 3: Analyze Deviation Details</h3>
<ol>
<li><strong>Click on "View"</strong></li>
<li>
<p>This shows the detailed comparison between intended and running values</p>
</li>
<li>
<p><strong>Review Deviation Information</strong></p>
</li>
</ol>
<p><strong>Path:</strong>
   </p><div class="highlight"><pre><span></span><code>.interface{.name=="ethernet-1/50"}.subinterface{.index==0}
</code></pre></div><p></p>
<p><strong>Intended Values:</strong>
   </p><div class="highlight"><pre><span></span><code><span class="mi">1</span><span class="w">  </span><span class="nt">"admin-state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enable"</span>
</code></pre></div><p></p>
<p><strong>Running Values:</strong>
   </p><div class="highlight"><pre><span></span><code><span class="mi">1</span><span class="w">  </span><span class="p">{</span>
<span class="mi">2</span><span class="w">    </span><span class="nt">"admin-state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"disable"</span>
<span class="mi">3</span><span class="w">  </span><span class="p">}</span>
</code></pre></div><p></p>
<p><strong>Analysis:</strong> The running value shows <code>admin-state: disable</code>, but the intended value expects the interface to use its default state (enabled).</p>
<hr>
<h3 id="step-4-accept-a-deviation">Step 4: Accept a Deviation</h3>
<p>If you agree with the manual change and want it to become the new intent:</p>
<ol>
<li><strong>Click "Accept"</strong></li>
<li>A confirmation dialog appears</li>
</ol>
<div class="highlight"><pre><span></span><code>Accept Confirmation

Are you sure you want to accept deviation on leaf1 at
.interface{.name=="ethernet-1/50"}.subinterface{.index==0}?

Select the 'Recurse' checkbox to also accept all deviations 
below the target node and path.

â˜ Recurse

[Cancel]  [Accept]  [Add To Transaction]
</code></pre></div>
<ol>
<li><strong>Click "Accept"</strong></li>
<li>The deviation is now accepted</li>
<li>
<p>The intended configuration is updated to include <code>admin-state: disable</code></p>
</li>
<li>
<p><strong>Verify Acceptance</strong></p>
</li>
<li>The deviation detail now shows:<ul>
<li><strong>Accepted:</strong> <code>True</code></li>
<li>A new button appears: <strong>Clear Accept</strong></li>
</ul>
</li>
</ol>
<hr>
<h3 id="step-5-clear-accepted-deviation">Step 5: Clear Accepted Deviation</h3>
<p>If you change your mind after accepting a deviation:</p>
<ol>
<li><strong>Click "Clear Accept"</strong></li>
<li>A confirmation dialog appears</li>
</ol>
<div class="highlight"><pre><span></span><code>Clear Accept Confirmation

Are you sure you want to clear the accept flag for deviation on l1 at
.interface{.name=="ethernet-1/50"}.subinterface{.index==0}?

Select the 'Recurse' checkbox to also clear the accept flag for all 
deviations below the target node and path.

â˜ Recurse

[Cancel]  [Clear Accept]  [Add To Transaction]
</code></pre></div>
<ol>
<li><strong>Click "Clear Accept"</strong></li>
<li>The accepted flag is removed</li>
<li>The deviation becomes actionable again (can be accepted or rejected)</li>
</ol>
<hr>
<h3 id="step-6-reject-a-deviation">Step 6: Reject a Deviation</h3>
<p>To revert the device to the original intended configuration:</p>
<ol>
<li><strong>Click "Reject"</strong></li>
<li>A confirmation dialog appears</li>
</ol>
<div class="highlight"><pre><span></span><code>Reject Confirmation

Are you sure you want to reject deviation on l1 at
.interface{.name=="ethernet-1/50"}.subinterface{.index==0}?

Select the 'Recurse' checkbox to also reject all deviations 
below the target node and path.

â˜ Recurse

[Cancel]  [Reject]  [Add To Transaction]
</code></pre></div>
<ol>
<li><strong>Click "Reject"</strong></li>
<li>EDA creates a transaction to restore the original configuration</li>
<li>
<p>The deviation entry disappears from the dashboard</p>
</li>
<li>
<p><strong>Check Transaction History</strong></p>
</li>
<li>Navigate to <strong>Transactions</strong></li>
<li>You'll see the rejection transaction with status "complete"</li>
</ol>
<hr>
<h3 id="step-7-verify-remediation">Step 7: Verify Remediation</h3>
<ol>
<li><strong>SSH to leaf1 and Verify Configuration</strong>
   <div class="highlight"><pre><span></span><code>--<span class="o">{</span><span class="w"> </span>running<span class="w"> </span><span class="o">}</span>--<span class="o">[</span><span class="w"> </span><span class="o">]</span>--
A:admin@leaf1#<span class="w"> </span>info<span class="w"> </span>detail<span class="w"> </span>interface<span class="w"> </span>ethernet-1/1
</code></pre></div></li>
</ol>
<p><strong>Expected Output:</strong>
   </p><div class="highlight"><pre><span></span><code>    !!! EDA Source CRs: interfaces.eda.nokia.com/v1alpha1/Interface/leaf1-ethernet-1-1
    admin-state enable
    transceiver {
    }
    ethernet {
        flow-control {
        }
        hold-time {
            up 0
            down 0
        }
    }
    subinterface 4097 {
     !!! EDA Source CRs: services.eda.nokia.com/v1/BridgeInterface/client1
     type bridged
     description client1
     admin-state enable
     ipv4 {
         admin-state disable
         allow-directed-broadcast false
         unnumbered {
             admin-state disable
         }
         arp {
             duplicate-address-detection true
             timeout 14400
             learn-unsolicited false
             proxy-arp false
             host-route {
             }
         }
       }
            ...
</code></pre></div><p></p>
<p>âœ… The <code>admin-state</code> of the subinterface is back to <code>enable</code>.</p>
<hr>
<h2 id="exercise-6-eql-queries">ğŸ“Š Exercise 6: EQL Queries</h2>
<p>EQL (EDA Query Language) is a path-based query language for extracting information from the network state. Unlike SQL, EQL uses <strong>dotted path notation</strong> to navigate the data model.</p>
<blockquote>
<p><strong>Note:</strong> Natural Language queries require an LLM-API key configuration and are not available in this lab environment.</p>
</blockquote>
<hr>
<h3 id="understanding-eql-syntax">Understanding EQL Syntax</h3>
<p>EQL queries use the following structure:</p>
<div class="highlight"><pre><span></span><code>.namespace.node.srl.&lt;path&gt; [fields [...]] [where (...)] [order by [...]] [limit N] [sample ...]
</code></pre></div>
<h4 id="key-components">Key Components</h4>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Path</strong></td>
<td>Dotted notation to data location</td>
<td><code>.namespace.node.srl.interface</code></td>
</tr>
<tr>
<td><strong>fields</strong></td>
<td>Select specific fields to return</td>
<td><code>fields [.namespace.node.name]</code></td>
</tr>
<tr>
<td><strong>where</strong></td>
<td>Filter results</td>
<td><code>where (admin-state = "enable")</code></td>
</tr>
<tr>
<td><strong>order by</strong></td>
<td>Sort results</td>
<td><code>order by [ name ]</code></td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>Limit number of results</td>
<td><code>limit 10</code></td>
</tr>
<tr>
<td><strong>sample</strong></td>
<td>Real-time sampling interval</td>
<td><code>sample milliseconds 500</code></td>
</tr>
</tbody>
</table>
<h4 id="important-differences-from-sql">Important Differences from SQL</h4>
<ul>
<li><strong>No SELECT keyword</strong> - Use <code>fields</code> instead</li>
<li><strong>No FROM keyword</strong> - Start with the path directly</li>
<li><strong>Path-based navigation</strong> - Use dots to traverse the data model</li>
<li><strong>Bracket notation for filters</strong> - <code>[.name=="ethernet-1/1"]</code> to filter arrays</li>
</ul>
<hr>
<h3 id="example-queries">Example Queries</h3>
<h4 id="query-1-list-major-alarms">Query 1: List Major Alarms</h4>
<p><strong>Query:</strong>
</p><div class="highlight"><pre><span></span><code>.namespace.alarms.v1.current-alarm where (severity = "major") order by [ name ] limit 7 sample milliseconds 500
</code></pre></div><p></p>
<p><strong>Purpose:</strong> Monitor major severity alarms in real-time (refreshing every 500ms)</p>
<p><strong>Expected Output:</strong></p>
<table>
<thead>
<tr>
<th>namespace.name</th>
<th>name</th>
<th>type</th>
<th>severity</th>
<th>resource</th>
</tr>
</thead>
<tbody>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>FanTrayFailure-leaf1-FanT...</td>
<td>FanTrayFailure</td>
<td>major</td>
<td>leaf1-FanTray1</td>
</tr>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>FanTrayFailure-leaf1-FanT...</td>
<td>FanTrayFailure</td>
<td>major</td>
<td>leaf1-FanTray2</td>
</tr>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>FanTrayFailure-leaf1-FanT...</td>
<td>FanTrayFailure</td>
<td>major</td>
<td>leaf1-FanTray3</td>
</tr>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>CertificateUnavailable...</td>
<td>CertificateUnavailable</td>
<td>major</td>
<td>eda-system/eda-keycl...</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="query-2-find-nodes-with-specific-ip-address">Query 2: Find Nodes with Specific IP Address</h4>
<p><strong>Query:</strong>
</p><div class="highlight"><pre><span></span><code>.namespace.node.srl.interface.subinterface.ipv4.address fields [.namespace.node.name] where (ip-prefix = "11.0.0.1/32")
</code></pre></div><p></p>
<p><strong>Purpose:</strong> Identify which nodes have the system IP configured</p>
<p><strong>Expected Output:</strong></p>
<table>
<thead>
<tr>
<th>namespace.name</th>
<th>node.name</th>
<th>interface.name</th>
<th>subinterface.index</th>
<th>ip-prefix</th>
</tr>
</thead>
<tbody>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>leaf3</td>
<td>system0</td>
<td>1</td>
<td>11.0.0.1/32</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="query-3-find-network-instance-by-learned-mac">Query 3: Find Network Instance by Learned MAC</h4>
<p><strong>Query:</strong>
</p><div class="highlight"><pre><span></span><code>.namespace.node.srl.network-instance.bridge-table.mac-learning.learnt-entries.mac fields [.namespace.node.srl.network-instance.name] where (address = "AA:C1:AB:64:CD:5B")
</code></pre></div><p></p>
<p><strong>Purpose:</strong> Determine which MAC-VRF learned a specific MAC address</p>
<blockquote>
<p><strong>Note:</strong> Replace the MAC address with an actual MAC from your client. Find it using:
</p><div class="highlight"><pre><span></span><code><span class="c1"># On client</span>
ifconfig<span class="w"> </span>-a<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>HWaddr
</code></pre></div>
Generate traffic to ensure the MAC is learned before querying.<p></p>
</blockquote>
<p><strong>Expected Output:</strong></p>
<table>
<thead>
<tr>
<th>namespace.name</th>
<th>node.name</th>
<th>network-instance.name</th>
<th>address</th>
</tr>
</thead>
<tbody>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>leaf1</td>
<td>l2vnet</td>
<td>AA:C1:AB:64:CD:5B</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="query-4-sum-interface-traffic-across-datacenter">Query 4: Sum Interface Traffic Across Datacenter</h4>
<p><strong>Query:</strong>
</p><div class="highlight"><pre><span></span><code>.namespace.node.srl.interface.traffic-rate fields [ sum(in-bps) as "In", sum(out-bps) as "Out" ] where (in-bps != 0)
</code></pre></div><p></p>
<p><strong>Purpose:</strong> Get total inbound and outbound traffic across all active interfaces</p>
<p><strong>Expected Output:</strong></p>
<table>
<thead>
<tr>
<th>In</th>
<th>Out</th>
</tr>
</thead>
<tbody>
<tr>
<td>27810</td>
<td>188306</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="query-5-display-process-memory-usage">Query 5: Display Process Memory Usage</h4>
<p><strong>Query:</strong>
</p><div class="highlight"><pre><span></span><code>.namespace.node.srl.platform.control.process order by [ memory-usage descending ]
</code></pre></div><p></p>
<p><strong>Purpose:</strong> Monitor system resource usage by process</p>
<p><strong>Expected Output:</strong></p>
<table>
<thead>
<tr>
<th>namespace.name</th>
<th>node.name</th>
<th>control.slot</th>
<th>pid</th>
<th>name</th>
<th>start-time</th>
<th>cpu-utilization</th>
<th>memory-usage</th>
<th>memory-utilization</th>
</tr>
</thead>
<tbody>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>leaf1</td>
<td>A</td>
<td>2779</td>
<td>sr_xdp_lc</td>
<td>2025-05-05T14:53:31.000Z</td>
<td>0</td>
<td>855303584</td>
<td>1</td>
</tr>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>leaf2</td>
<td>A</td>
<td>2777</td>
<td>sr_xdp_lc</td>
<td>2025-05-05T14:53:31.000Z</td>
<td>0</td>
<td>854387040</td>
<td>1</td>
</tr>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>spine1</td>
<td>A</td>
<td>2741</td>
<td>sr_xdp_lc</td>
<td>2025-05-05T14:53:31.000Z</td>
<td>0</td>
<td>855205568</td>
<td>1</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="query-6-show-down-interfaces-on-specific-node">Query 6: Show Down Interfaces on Specific Node</h4>
<p><strong>Query:</strong>
</p><div class="highlight"><pre><span></span><code>.namespace.node.srl.interface fields [ admin-state, oper-state, last-change ] where (oper-state = "down" and .namespace.node.name = "leaf1")
</code></pre></div><p></p>
<p><strong>Purpose:</strong> Troubleshoot connectivity issues on a specific leaf</p>
<p><strong>Expected Output:</strong></p>
<table>
<thead>
<tr>
<th>admin-state</th>
<th>oper-state</th>
<th>last-change</th>
</tr>
</thead>
<tbody>
<tr>
<td>disable</td>
<td>down</td>
<td>2025-05-05T14:58:04.589Z</td>
</tr>
<tr>
<td>disable</td>
<td>down</td>
<td>2025-05-05T14:58:04.589Z</td>
</tr>
<tr>
<td>disable</td>
<td>down</td>
<td>2025-05-05T14:58:04.589Z</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="query-7-view-ipv4-route-table-for-network-instance">Query 7: View IPv4 Route Table for Network Instance</h4>
<p><strong>Query:</strong>
</p><div class="highlight"><pre><span></span><code>.namespace.node.srl.network-instance.route-table.ipv4-unicast.route.fib-programming where (.namespace.node.name = "leaf1" and .namespace.node.srl.network-instance.name = "default")
</code></pre></div><p></p>
<p><strong>Purpose:</strong> Inspect routing table entries on a specific node and network instance</p>
<p><strong>Expected Output:</strong></p>
<table>
<thead>
<tr>
<th>namespace.name</th>
<th>node.name</th>
<th>network-instance.name</th>
<th>route.id</th>
<th>route.ipv4-prefix</th>
<th>route.origin-network-instance</th>
<th>route.route-owner</th>
<th>route.route-type</th>
<th>suppressed</th>
</tr>
</thead>
<tbody>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>leaf1</td>
<td>default</td>
<td>0</td>
<td>11.0.0.1/32</td>
<td>router</td>
<td>bgp_mgr</td>
<td>bgp</td>
<td>âŠ—</td>
</tr>
<tr>
<td>clab-dc-{GROUP_ID}-eda</td>
<td>leaf1</td>
<td>default</td>
<td>0</td>
<td>11.0.0.2/32</td>
<td>router</td>
<td>bgp_mgr</td>
<td>bgp</td>
<td>âŠ—</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="practical-eql-use-cases">ğŸ’¡ Practical EQL Use Cases</h2>
<h3 id="network-health-monitoring">Network Health Monitoring</h3>
<div class="highlight"><pre><span></span><code># Monitor BGP session states
.namespace.node.srl.network-instance.protocols.bgp.neighbor fields [peer-address, session-state] where (session-state = "established")

# Check interface error rates
.namespace.node.srl.interface.statistics fields [name, in-errors, out-errors] where (in-errors &gt; 0 or out-errors &gt; 0)

# Monitor VXLAN tunnel status
.namespace.node.srl.tunnel-interface.vxlan-interface fields [vni, oper-state]
</code></pre></div>
<h3 id="capacity-planning">Capacity Planning</h3>
<div class="highlight"><pre><span></span><code># Check MAC table utilization
.namespace.node.srl.network-instance.bridge-table.mac-table fields [COUNT(*)] where (.namespace.node.srl.network-instance.type = "mac-vrf")

# Monitor interface bandwidth usage
.namespace.node.srl.interface.traffic-rate fields [name, in-bps, out-bps] order by [in-bps descending] limit 10
</code></pre></div>
<h3 id="troubleshooting">Troubleshooting</h3>
<div class="highlight"><pre><span></span><code># Find all interfaces in error-disabled state
.namespace.node.srl.interface where (oper-state = "down" and oper-down-reason = "error-disabled")

# Locate specific MAC address
.namespace.node.srl.network-instance.bridge-table.mac-learning.learnt-entries.mac where (address = "AA:C1:AB:XX:XX:XX")
</code></pre></div>
<hr>
<h2 id="troubleshooting-tips">ğŸ› ï¸ Troubleshooting &amp; Tips</h2>
<details>
<summary><b>EQL query returns empty results</b></summary>

**Possible causes:**
- Incorrect path syntax
- No matching data
- Wrong node/namespace filter

**Solution:**
1. Start with a simpler query without filters
2. Verify the path exists: `.namespace.node.srl.interface`
3. Check spelling and case sensitivity
4. Use the Query Builder for path auto-completion

</details>

<details>
<summary><b>Accept/Reject buttons not working</b></summary>

**Possible causes:**
- Transaction in progress
- Permissions issue
- Browser cache

**Solution:**
1. Wait for any ongoing transactions to complete
2. Check user permissions
3. Clear browser cache and reload
4. Try "Add To Transaction" instead of immediate action

</details>

<details>
<summary><b>EQL syntax error</b></summary>

**Common mistakes:**
- Using SQL keywords (SELECT, FROM)
- Missing dots in paths
- Incorrect bracket syntax for filters

**Solution:**
- Remember: EQL is path-based, not SQL
- Use `.namespace.node.srl...` not `FROM state...`
- Use `fields [...]` not `SELECT ...`
- Filter arrays with `[.key=="value"]`

</details>

<hr>
<h2 id="lab-summary">ğŸ“ Lab Summary</h2>
<h3 id="what-youve-accomplished">What You've Accomplished</h3>
<p>âœ… <strong>Understood Configuration Deviations</strong>
- Created intentional deviations
- Observed impact on network connectivity
- Viewed deviation alarms and details</p>
<p>âœ… <strong>Mastered Deviation Workflows</strong>
- Accepted deviations to update intent
- Cleared accepted deviations
- Rejected deviations to restore configuration
- Verified automated remediation</p>
<p>âœ… <strong>Learned EQL Query Language</strong>
- Understood path-based syntax
- Wrote queries for operational monitoring
- Extracted network state information
- Built troubleshooting queries</p>
<h3 id="key-takeaways">Key Takeaways</h3>
<ol>
<li><strong>Deviations provide visibility</strong> into configuration drift</li>
<li><strong>Accept vs Reject</strong> gives you control over intent updates</li>
<li><strong>EQL is path-based</strong>, not SQL - use dotted notation</li>
<li><strong>Real-time monitoring</strong> is possible with <code>sample</code> clause</li>
<li><strong>Operational queries</strong> can be built for day-to-day tasks</li>
</ol>
<hr>
<h2 id="whats-next">ğŸ¯ What's Next?</h2>
<p>Congratulations! You've completed all three parts of the SGNOG12 EDA Lab.</p>
<h3 id="continue-your-learning">Continue Your Learning</h3>
<ul>
<li>ğŸ“– Explore <a href="https://network.developer.nokia.com/eql">EDA Query Language Reference</a></li>
<li>ğŸ”¬ Experiment with EDA REST API</li>
<li>ğŸ—ï¸ Design custom dashboards using EQL</li>
<li>ğŸ¤ Join the <a href="https://learn.srlinux.dev/">SR Linux Community</a></li>
</ul>
<hr>
<h2 id="additional-resources">ğŸ“š Additional Resources</h2>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="https://docs.eda.dev/">Nokia EDA Documentation</a></li>
<li><a href="https://yang.srlinux.dev/">SR Linux Data Model</a></li>
</ul>
<hr>
<h2 id="lab-completion">ğŸ Lab Completion</h2>
<p><strong>This concludes Exercises 5 and 6 of the SGNOG12 EDA Lab!</strong></p>
<p>You have successfully:<br>
âœ… Detected and managed configuration deviations<br>
âœ… Understood accept/reject/clear workflows<br>
âœ… Learned EQL path-based query syntax<br>
âœ… Built operational queries for monitoring<br>
âœ… Completed the entire EDA lab series</p>
<hr>
<p><strong>Navigation:</strong></p>
<ul>
<li><a href="../part2-service-overlays/">Back to Part 2: Service Overlays</a></li>
<li><a href="../part1-fabric-intent/">Back to Part 1: Fabric Intent Creation</a></li>
<li><a href="../">Return to Main Lab Guide</a></li>
</ul>
<hr>
<p><strong>Congratulations on completing the SGNOG12 EDA Lab!</strong> You're now ready to leverage EDA for production network automation.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate", "navigation.instant", "navigation.instant.progress", "navigation.sections"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>