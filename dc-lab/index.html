<!DOCTYPE html><html lang="en" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../40-packet-capture/">
      
      
        <link rel="next" href="../eda-lab/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Start - ðŸ‡¸ðŸ‡¬ SGNOG12 x NOKIA Workshop</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sgnog12-dc-lab" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ðŸ‡¸ðŸ‡¬ SGNOG12 x NOKIA Workshop" class="md-header__button md-logo" aria-label="ðŸ‡¸ðŸ‡¬ SGNOG12 x NOKIA Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ðŸ‡¸ðŸ‡¬ SGNOG12 x NOKIA Workshop
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Start
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo" aria-label="Dark mode" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo" aria-label="Light mode" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/thcorre/sgnog12-workshop" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    sgnog12-workshop
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ðŸ‡¸ðŸ‡¬ SGNOG12 x NOKIA Workshop" class="md-nav__button md-logo" aria-label="ðŸ‡¸ðŸ‡¬ SGNOG12 x NOKIA Workshop" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    ðŸ‡¸ðŸ‡¬ SGNOG12 x NOKIA Workshop
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/thcorre/sgnog12-workshop" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
  </div>
  <div class="md-source__repository">
    sgnog12-workshop
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2">
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install Containerlab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Containerlab basics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../15-startup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Startup Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../20-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VM-Based Nodes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../30-registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Container registries
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../40-packet-capture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Packet capture
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    DC Fabric Lab
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            DC Fabric Lab
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deploying-the-lab" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying the lab
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-network-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the network elements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fabric-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Fabric configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fabric configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verifying-the-underlay-and-overlay-status" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying the underlay and overlay status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-traffic" class="md-nav__link">
    <span class="md-ellipsis">
      Running traffic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telemetry-stack" class="md-nav__link">
    <span class="md-ellipsis">
      Telemetry stack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Grafana
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-details" class="md-nav__link">
    <span class="md-ellipsis">
      Access details
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8">
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    EDA Lab
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            EDA Lab
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eda-lab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eda-lab/part1-fabric-intent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eda-lab/part2-service-overlays/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eda-lab/part3-deviations-eql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Part 3
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#deploying-the-lab" class="md-nav__link">
    <span class="md-ellipsis">
      Deploying the lab
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accessing-the-network-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing the network elements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fabric-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Fabric configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fabric configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verifying-the-underlay-and-overlay-status" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying the underlay and overlay status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-traffic" class="md-nav__link">
    <span class="md-ellipsis">
      Running traffic
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telemetry-stack" class="md-nav__link">
    <span class="md-ellipsis">
      Telemetry stack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Grafana
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-details" class="md-nav__link">
    <span class="md-ellipsis">
      Access details
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="sgnog12-dc-lab">SGNOG12 DC Lab</h1>
<div class="admonition info">
<p class="admonition-title">Disclaimer</p>
<p>This lab is based on <a href="https://github.com/srl-labs/srl-sros-telemetry-lab">srl-sros-telemetry-lab</a>. (Kudos to Marlon Paz, Roman Dodin and Kevin Todts). </p>
</div>
<p>We have modified the lab for this workshop to better align with the latest DC best practices (IPv6 underlay infra, Usage of BGP unnumbered underlay with IPv6 link-locals, BFD sessions used on eBGP peers, optimized BGP timers etc.) and to also demonstrate additional EVPN capabilities like All-Active multihoming.</p>
<p>This lab represents a small Clos DC fabric with <a href="https://learn.srlinux.dev/">Nokia SR Linux</a> switches running as containers.</p>
<p>Goals of this lab:</p>
<ol>
<li>Demonstrate how a telemetry stack can be incorporated into the same clab topology file.</li>
<li>Explain SR Linux wholistic telemetry support.</li>
<li>Provide practical configuration examples for the gnmic collector to subscribe to fabric nodes and export metrics to Prometheus TSDB.</li>
</ol>
<h2 id="deploying-the-lab">Deploying the lab</h2>
<p>The lab is deployed with <a href="https://containerlab.dev">containerlab</a> project.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># deploy a lab</span>
clab<span class="w"> </span>deploy
</code></pre></div>
<p>Once the lab is completed, it can be removed with the destroy command.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># destroy a lab</span>
clab<span class="w"> </span>destroy
</code></pre></div>
<h2 id="accessing-the-network-elements">Accessing the network elements</h2>
<p>Once the lab has been deployed, the different SR Linux and SROS nodes can be accessed via SSH through their management IP address, given in the table displayed after successful deployment of the Containerlab topology.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Instead of using the IP addres to connect to the nodes, you can use the node hostname.</p>
<p>For example
</p><div class="highlight"><pre><span></span><code><span class="c1"># reach a SR Linux leaf or a spine via SSH</span>
ssh<span class="w"> </span>admin@leaf1
ssh<span class="w"> </span>admin@spine1
</code></pre></div><p></p>
</div>
<p>You can't SSH into the linux nodes. You must enter the shell using the <code>docker exec</code> command. Refer to the example below.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># reach a Linux client via Docker</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>client1<span class="w"> </span>bash
</code></pre></div>
<h2 id="fabric-configuration">Fabric configuration</h2>
<p>The DC fabric used in this lab consists of three leaf nodes and two spine nodes interconnected with each other as shown in the diagram.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="../sgnog12-workshop-topology.png" data-desc-position="bottom"><img alt="pic1" src="../sgnog12-workshop-topology.png"></a></p>
<p>Leaf and spine nodes use Nokia SR Linux IXR-D2L and IXR-D3L chassis respectively. Each network element of this topology is equipped with a <a href="configs/fabric">fabric startup configuration file</a> that is applied at the node's startup.</p>
<p>Once booted, network nodes will come up with interfaces, underlay protocols and overlay service configured. The fabric is configured with Layer 2 EVPN service between the leaf nodes.</p>
<h3 id="verifying-the-underlay-and-overlay-status">Verifying the underlay and overlay status</h3>
<p>The underlay network is provided by eBGP, and the overlay network, by iBGP. By connecting via SSH to one of the leaf nodes, it is possible to verify the status of those BGP sessions.</p>
<div class="highlight"><pre><span></span><code>A:leaf1# /show network-instance protocols bgp neighbor
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
BGP neighbor summary for network-instance "default"
Flags: S static, D dynamic, L discovered by LLDP, B BFD enabled, - disabled, * slow
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+------------------------+-----------------------------------+------------------------+--------+-------------+--------------------+--------------------+-----------------+-----------------------------------+
|        Net-Inst        |               Peer                |         Group          | Flags  |   Peer-AS   |       State        |       Uptime       |    AFI/SAFI     |          [Rx/Active/Tx]           |
+========================+===================================+========================+========+=============+====================+====================+=================+===================================+
| default                | 10.0.2.1                          | overlay                | SB     | 64512       | established        | 0d:0h:7m:43s       | evpn            | [9/9/2]                           |
|                        |                                   |                        |        |             |                    |                    | ipv4-unicast    | [8/2/1]                           |
|                        |                                   |                        |        |             |                    |                    | ipv6-unicast    | [0/0/0]                           |
| default                | 10.0.2.2                          | overlay                | SB     | 64512       | established        | 0d:0h:2m:4s        | evpn            | [9/0/2]                           |
|                        |                                   |                        |        |             |                    |                    | ipv4-unicast    | [7/2/6]                           |
|                        |                                   |                        |        |             |                    |                    | ipv6-unicast    | [0/0/0]                           |
| default                | fe80::186c:eff:feff:1%ethernet-   | underlay               | DB     | 65500       | established        | 0d:0h:0m:9s        | evpn            | [0/0/0]                           |
|                        | 1/49.0                            |                        |        |             |                    |                    | ipv4-unicast    | [5/5/1]                           |
|                        |                                   |                        |        |             |                    |                    | ipv6-unicast    | [0/0/0]                           |
| default                | fe80::18a2:fff:feff:1%ethernet-   | underlay               | DB     | 65500       | established        | 0d:0h:0m:6s        | evpn            | [0/0/0]                           |
|                        | 1/50.0                            |                        |        |             |                    |                    | ipv4-unicast    | [5/5/6]                           |
|                        |                                   |                        |        |             |                    |                    | ipv6-unicast    | [0/0/0]                           |
+------------------------+-----------------------------------+------------------------+--------+-------------+--------------------+--------------------+-----------------+-----------------------------------+
Summary:
2 configured neighbors, 2 configured sessions are established, 0 disabled peers
2 dynamic peers
</code></pre></div>
<h2 id="running-traffic">Running traffic</h2>
<p>To run test traffic through the fabric, we can leverage <code>traffic.sh</code> control script.</p>
<p>To start the traffic:</p>
<ul>
<li><code>bash traffic.sh start all</code> - start traffic between all nodes</li>
<li><code>bash traffic.sh start 1-3</code> - start traffic between client1 and client3</li>
<li><code>bash traffic.sh start 2-4</code> - start traffic between client2 and client4</li>
</ul>
<p>To stop the traffic:</p>
<ul>
<li><code>bash traffic.sh stop all</code> - stop traffic generation between all nodes</li>
<li><code>bash traffic.sh stop 1-3</code> - stop traffic generation between client1 and client3</li>
<li><code>bash traffic.sh stop 2-4</code> - stop traffic generation between client2 and client4</li>
</ul>
<h2 id="telemetry-stack">Telemetry stack</h2>
<p>SR Linux has first-class streaming telemetry support thanks to 100% YANG coverage of state and config data. </p>
<p>The wholistic coverage enables SR Linux users to stream <strong>any</strong> data off of the NOS with on-change, sample, or target-defined support. A discrepancy in visibility across APIs is not about SR Linux.</p>
<p>Telemetry is at the core of this lab. The following stack of software solutions has been chosen for it:</p>
<table>
<thead>
<tr>
<th>Role</th>
<th>Software</th>
</tr>
</thead>
<tbody>
<tr>
<td>Telemetry collector</td>
<td><a href="https://gnmic.openconfig.net">gnmic</a></td>
</tr>
<tr>
<td>Time-Series DB</td>
<td><a href="https://prometheus.io">prometheus</a></td>
</tr>
<tr>
<td>Visualization</td>
<td><a href="https://grafana.com">grafana</a></td>
</tr>
</tbody>
</table>
<h2 id="grafana">Grafana</h2>
<p>Grafana is a key component of this lab. The lab topology file includes grafana node along with its configuration parameters such as dashboards, datasources and required plugins.</p>
<p>The Grafana dashboard provided by this repository provides multiple views on the collected real-time data. Powered by the <a href="https://grafana.com/grafana/plugins/agenty-flowcharting-panel/">flowchart plugin</a>, it overlays telemetry sourced data over graphics such as topology and front panel views of the devices.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="https://user-images.githubusercontent.com/86619221/205601697-bd5b68f0-e2c6-49d3-a1f3-1cb5b67b34d9.JPG" data-desc-position="bottom"><img alt="pic3" src="https://user-images.githubusercontent.com/86619221/205601697-bd5b68f0-e2c6-49d3-a1f3-1cb5b67b34d9.JPG"></a></p>
<p>Using the flowchart plugin and real telemetry data users can create interactive topology maps (aka weathermap) with a visual indication of link rate/utilization.</p>
<p><a class="glightbox" data-type="image" data-width="auto" data-height="auto" href="https://user-images.githubusercontent.com/86619221/205601728-f3b254d1-2b03-4e75-b0e4-eb89cf54789a.JPG" data-desc-position="bottom"><img alt="pic2" src="https://user-images.githubusercontent.com/86619221/205601728-f3b254d1-2b03-4e75-b0e4-eb89cf54789a.JPG"></a></p>
<h2 id="access-details">Access details</h2>
<ul>
<li>Grafana: <a href="http://localhost:3000">http://localhost:3000</a>. Built-in user credentials: <code>admin/admin</code></li>
<li>Prometheus: <a href="http://localhost:9090/graph">http://localhost:9090/graph</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate", "navigation.instant", "navigation.instant.progress", "navigation.sections"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>